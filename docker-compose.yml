services:
  # SauceDemo project
  saucedemo:
    build:
      context: ./Playwright.SauceDemo
      dockerfile: Dockerfile
    image: pw-saucedemo-image:v1
    volumes:
      - ./Playwright.SauceDemo/Reports:/src/Reports
    working_dir: /src
    command: > 
      dotnet test Playwright.SauceDemo.csproj --no-build --configuration Release

  # Parabank project
  parabank:
    build:
      context: ./Playwright.Parabank
      dockerfile: Dockerfile
    image: pw-parabank-image:v1
    volumes:
      - ./Playwright.Parabank/Reports:/src/Reports
    working_dir: /src
    command: > 
      dotnet test Playwright.Parabank.csproj --no-build --configuration Release